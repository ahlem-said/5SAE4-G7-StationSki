pipeline{
    agent any
    stages {
        //  stage('Git') {
         //      steps {
       //            // Étape pour récupérer le code source depuis le référentiel Git
       //            checkout scm
        //       }
        //   }
        stage(" Maven Test "){
            steps {
                sh "mvn -version"
            }
        }
        stage("JDK Test "){
            steps {
                sh "java -version"
            }
        }
        stage("Getting Projet From Git"){
            steps {
                echo "Pulling"
            }
        }
        stage('Cleaning & Compiling') {
            steps{
                sh 'mvn clean compile'

        }
          }

          stage('SonarQube CodeQuality Check') {
                      steps{
                          sh 'mvn sonar:sonar -Dsonar.login=admin -Dsonar.password=adminsonar'
                      }
                  }
            stage('Unit Test') {
                       steps {
                           // Use Maven to run JUnit tests
                           sh 'mvn test'
                       }
                   }
    }
}